<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>♕️ Sipariş Fişi</title>

<!-- TERMAL YAZICI AYARLARI -->
<style>
@page {
  size: 80mm auto;
  margin: 0;
}

html, body {
  width: 80mm;
  margin: 0;
  padding: 0 4px;
  font-family: Arial, sans-serif;
  font-size: 12px;
  line-height: 1.25;
}

/* Logo */
.logo {
  text-align: center;
  margin: 6px 0 4px 0;
}
.logo img {
  width: 90px;     /* Küçültüldü */
  height: auto;
  opacity: 0.95;
}

/* Başlık */
h2 {
  text-align: center;
  font-size: 13px;
  margin: 4px 0 8px 0;
  font-weight: bold;
}

/* İçerik */
#content {
  width: 100%;
  word-wrap: break-word;
}

/* Kesikli çizgi */
.line {
  border-bottom: 1px dashed #000;
  margin: 6px 0;
}
</style>

</head>
<body>

<!-- LOGO -->
<div class="logo">
  <img id="brandLogo" src="">
</div>

<!-- DİNAMİK MARKA BAŞLIĞI -->
<h2 id="brandTitle"></h2>

<!-- JS’den içeriği basacağımız yer -->
<div id="content"></div>

<script>
/* ============================================================
   LOGO ve MARKA ADI — Ana pencereden alınır
============================================================ */
window.onload = function () {
  try {
    // LOGO (CONFIG.logo değeri)
    const logo = window.opener?.brandLogo || "logo.png";
    document.getElementById("brandLogo").src = logo;

    // MARKA ADI (CONFIG.brandName değeri)
    const brandName = window.opener?.CONFIG?.brandName || "Sipariş";
    document.getElementById("brandTitle").innerHTML = `♕️ ${brandName} SİPARİŞ`;

  } catch (e) {
    document.getElementById("brandLogo").src = "logo.png";
    document.getElementById("brandTitle").innerHTML = "♕️ SİPARİŞ";
  }
};

/* ============================================================
   Yazdırma Fonksiyonu – app.js tarafından çağrılır
============================================================ */
window.doPrint = function () {
  setTimeout(() => {
    window.print();
    setTimeout(() => window.close(), 300);
  }, 150);
};
</script>

</body>
</html>
